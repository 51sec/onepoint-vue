(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0f1194"],{"9ed6":function(e,o,t){"use strict";t.r(o);var n=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("el-card",{staticStyle:{"max-width":"450px",margin:"200px auto"}},[t("el-form",{ref:"loginForm",staticStyle:{position:"relative"},attrs:{model:e.loginForm,rules:e.loginRules,autocomplete:"on"}},[t("i",{staticClass:"el-icon-setting",staticStyle:{float:"right",cursor:"pointer"},on:{click:function(o){e.showSetting=!e.showSetting}}}),t("h3",[e._v("Login Form")]),t("el-form-item",{attrs:{prop:"username"}},[t("el-input",{ref:"username",attrs:{placeholder:"Username",name:"username",type:"text",tabindex:"1",autocomplete:"on","prefix-icon":"el-icon-user"},model:{value:e.loginForm.username,callback:function(o){e.$set(e.loginForm,"username",o)},expression:"loginForm.username"}})],1),t("el-tooltip",{attrs:{content:"Caps lock is On",placement:"right",manual:""},model:{value:e.capsTooltip,callback:function(o){e.capsTooltip=o},expression:"capsTooltip"}},[t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{key:e.passwordType,ref:"password",attrs:{"prefix-icon":"el-icon-lock",type:e.passwordType,placeholder:"Password",name:"password",tabindex:"2",autocomplete:"on"},on:{blur:function(o){e.capsTooltip=!1}},nativeOn:{keyup:[function(o){return e.checkCapslock(o)},function(o){return!o.type.indexOf("key")&&e._k(o.keyCode,"enter",13,o.key,"Enter")?null:e.handleLogin(o)}]},model:{value:e.loginForm.password,callback:function(o){e.$set(e.loginForm,"password",o)},expression:"loginForm.password"}},[t("svg-icon",{attrs:{slot:"suffix","icon-class":"password"===e.passwordType?"eye":"eye-open"},on:{click:e.showPwd},slot:"suffix"})],1)],1)],1),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.showSetting,expression:"showSetting"}],attrs:{prop:"baseURL"}},[t("el-input",{ref:"baseURL",attrs:{placeholder:"baseURL",name:"baseURL",type:"url",tabindex:"3",autocomplete:"on","prefix-icon":"el-icon-setting"},model:{value:e.loginForm.baseURL,callback:function(o){e.$set(e.loginForm,"baseURL",o)},expression:"loginForm.baseURL"}})],1),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.showSetting,expression:"showSetting"}],attrs:{prop:"PATH_ADMIN"}},[t("el-input",{ref:"PATH_ADMIN",attrs:{placeholder:"PATH_ADMIN",name:"PATH_ADMIN",type:"text",tabindex:"4",autocomplete:"on","prefix-icon":"el-icon-setting"},model:{value:e.loginForm.PATH_ADMIN,callback:function(o){e.$set(e.loginForm,"PATH_ADMIN",o)},expression:"loginForm.PATH_ADMIN"}})],1),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.showSetting,expression:"showSetting"}],attrs:{prop:"PATH_API"}},[t("el-input",{ref:"PATH_API",attrs:{placeholder:"PATH_API",name:"PATH_API",type:"text",tabindex:"5",autocomplete:"on","prefix-icon":"el-icon-setting"},model:{value:e.loginForm.PATH_API,callback:function(o){e.$set(e.loginForm,"PATH_API",o)},expression:"loginForm.PATH_API"}})],1),t("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(o){return o.preventDefault(),e.handleLogin(o)}}},[e._v("Login ")])],1)],1)},s=[],i=(t("d3b7"),t("3ca3"),t("ddb0"),t("2b3d"),{name:"Login",created:function(){var e=new URL(window.location).searchParams;e.get("base_url")&&(e.get("base_url")&&(this.loginForm.baseURL=e.get("base_url")),e.get("path_api")&&(this.loginForm.baseURL=e.get("path_api")),e.get("path_admin")&&(this.loginForm.baseURL=e.get("path_admin"))),window.opConfig&&(this.loginForm.baseURL=window.opConfig.baseURL,this.loginForm.PATH_API=window.opConfig.PATH_API,this.loginForm.PATH_ADMIN=window.opConfig.PATH_ADMIN)},data:function(){var e=function(e,o,t){0===o.length?t(new Error("Please enter the user name")):t()},o=function(e,o,t){0===o.length?t(new Error("The password can not be empty")):t()};return{loginForm:{baseURL:this.$store.state.system.baseURL,PATH_API:this.$store.state.system.PATH_API,PATH_ADMIN:this.$store.state.system.PATH_ADMIN,username:"",password:""},showSetting:!1,loginRules:{username:[{required:!0,trigger:"blur",validator:e}],password:[{required:!0,trigger:"blur",validator:o}]},passwordType:"password",capsTooltip:!1,loading:!1}},mounted:function(){""===this.loginForm.username?this.$refs.username.focus():""===this.loginForm.password&&this.$refs.password.focus()},methods:{checkCapslock:function(e){var o=e.key;this.capsTooltip=o&&1===o.length&&o>="A"&&o<="Z"},showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(o){if(!o)return!1;e.loading=!0,e.$store.dispatch("system/login",e.loginForm).then((function(){e.$router.push({path:e.$route.query.redirect||"/"}),e.loading=!1})).catch((function(){e.loading=!1}))}))}}}),r=i,a=t("2877"),l=Object(a["a"])(r,n,s,!1,null,null,null);o["default"]=l.exports}}]);